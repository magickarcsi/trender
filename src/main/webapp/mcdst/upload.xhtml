<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<xhtml xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >
<link type="text/css" rel="stylesheet" href="http://trender-mcdst.rhcloud.com/style.css" />
      
<h:head>
    <title>OPST - Service</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</h:head>
    
<h:body>

<div id="page">
<div id="header">
<h2>Online Post-Shift Tool</h2>
<h3>Upload</h3>
</div>
    <h:form>
    <p:toolbar id="tb" style="min-width: 1000px;">
                <f:facet name="left">
                    <p:button outcome="/mcdst/index" value="Dashboard"  icon="ui-icon-monitor" />
                    <p:button outcome="/mcdst/service" value="Service" icon="ui-icon-bell-2"/>
                    <p:button outcome="/mcdst/production" value="Production" icon="ui-icon-food"/>
                    <p:button outcome="/mcdst/training" value="Training" icon="ui-icon-graduation-cap"/>
                    <p:button value="Admin" outcome="/mcdst/admin" icon="ui-icon-book" />
                </f:facet>
                <f:facet name="right">
                    <p:commandButton type="button" title="Profile" value="" icon="ui-icon-person"/>
                    <p:commandButton type="button" title="Delete" icon="ui-icon-trash"/>
                    <p:button onclick="location.href='http://trender-mcdst.rhcloud.com/logout';" value="Logout" icon="ui-icon-power"/>
                </f:facet>
            </p:toolbar>
    <p:sticky target="tb" />
    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
    </h:form>

<div id="container">
<div id="content">
<ui:insert name="content">
    
<div id="left">
    <p:panel id="toggleable1" header="Uploads and data" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel1" style="margin-bottom:20px">

    <h:panelGrid columns="3">
        <h:outputLabel value="Data for "/>
        
        <h:outputLabel value="Week: #{adminbean.week}"/>
        
        <h:outputLabel value ="Year: #{adminbean.year}"/> 
        
                <h:commandButton value="Previous" action="#{adminbean.previousWeek()}"/>
                
                <h:outputLabel value="#{adminbean.firstandlast}"/>
            
                <h:commandButton value="Next" action="#{adminbean.nextWeek()}"/>
                <br/>
    </h:panelGrid>
        
    </p:panel>
    
</div>
        <div id="right">
    <h:form id="form" enctype="multipart/form-data">
        <p:wizard flowListener="#{uploadwizzard.onFlowProcess}" style="width: 600px;">
        <p:tab id="calendar" title="Week">
            <p:panel header="Choose week of year">
                <p:messages />
                    <h:panelGrid columns="2">
        
                        <h:selectOneMenu id="select" value="#{adminbean.week}" >
                            <f:selectItems value="#{adminbean.favWeek2Value}" />
                            <f:valueChangeListener type="com.opst.WeekValueListener" />
                            <f:ajax event="valueChange" render="container" />
                        </h:selectOneMenu>
                        <h:selectOneMenu value="#{adminbean.year}">
                            <f:selectItem itemValue="2015" itemLabel="2015" />
                        </h:selectOneMenu>
                        
                        <h:outputLabel id="firstandlast" value="#{adminbean.firstandlast}"/>
                        
                </h:panelGrid>
            </p:panel>
        </p:tab>
            
            <p:tab id="upload" title="Reports">
            <p:panel header="Upload reports">    
                <p:messages />
                    <h:panelGrid columns="2">
                        
                <h:outputLabel value="#{adminbean.first}"/>
                        <h:outputLabel value="#{adminbean.last}"/>
                        
                        <p:fileUpload fileUploadListener="#{uploadbean.anyad}" mode="advanced" dragDropSupport="false"
                  multiple="true" update=":messages" sizeLimit="100000" fileLimit="3" allowTypes="/(\.|\/)(txt|png)$/" />
<!--                         
                        <h:outputLabel value="Monday: "/>
                <h:inputFile id="monday" required="true"  value="#{uploadbean.monday}" requiredMessage="Please upload a file for Monday!"/>
                
                <h:outputLabel value="Tuesday: "/>
                <h:inputFile id="tuesday" required="true" value="#{uploadbean.tuesday}" requiredMessage="Please upload a file for Tuesday!"/>
           
                <h:outputLabel value="Wednesday: "/>
                <h:inputFile required="true" requiredMessage="Please upload a file for Wednesday!"/>
                
                <h:outputLabel value="Thursday: "/>
                <h:inputFile required="true" requiredMessage="Please upload a file for Thursday!"/>
                
                <h:outputLabel value="Friday: "/>
                <h:inputFile required="true" requiredMessage="Please upload a file for Friday!"/>
                
                <h:outputLabel value="Saturday: "/>
                <h:inputFile required="true" requiredMessage="Please upload a file for Saturday!"/>
                
                <h:outputLabel value="Sunday: "/>
                <h:inputFile required="true" requiredMessage="Please upload a file for Sunday!"/>
-->
                </h:panelGrid>
            <h:commandButton action="#{uploadbean.uploadFile()}" value="Upload"/>
            </p:panel>
        </p:tab>
            
        <p:tab id="pod" title="Managers">
            <p:panel header="Upload managers">    
                <p:messages />
            <p:panelGrid style="margin-top:20px">
            <f:facet name="header">
                <p:row>
                    <p:column colspan="5">Week #{adminbean.week}</p:column>
                </p:row>
                <p:row>
                    <p:column>Day of Week</p:column>
                    <p:column>Overnight</p:column>
                    <p:column>Open</p:column>
                    <p:column>Dayshift</p:column>
                    <p:column>Evening</p:column>
                </p:row>

            </f:facet>
                <p:row>
                    <p:column style="font-weight: bold;"><h:outputLabel id="m" value="Monday (#{adminbean.monday.date}) "/></p:column>
                    <p:column>
                        <h:selectOneMenu id="mmon" value="#{adminbean.monday.overnight}" >
                            <f:selectItems value="#{adminbean.managers}" />
                        </h:selectOneMenu>
                    </p:column>
                    <p:column>
                        <h:selectOneMenu id="mmop" value="#{adminbean.monday.open}" >
                            <f:selectItems value="#{adminbean.managers}" />
                        </h:selectOneMenu>
                    </p:column>
                    <p:column>
                        <h:selectOneMenu id="mmds" value="#{adminbean.monday.day}" >
                            <f:selectItems value="#{adminbean.managers}" />
                        </h:selectOneMenu>
                    </p:column>
                    <p:column>
                        <h:selectOneMenu id="mmev" value="#{adminbean.monday.evening}" >
                            <f:selectItems value="#{adminbean.managers}" />
                        </h:selectOneMenu>
                    </p:column>
                </p:row>
            </p:panelGrid>
            </p:panel>
        </p:tab>
                
            
            </p:wizard>
        </h:form>
  </div>
</ui:insert>
</div></div></div>
</h:body>
</xhtml>
